function goTop(){var o=$(window);wh=o.height(),st=$(window).scrollTop(),dh=$(document).height(),$(window).on("scroll",function(){$(window).scrollTop()>wh/2?$("#top").slideDown(0):$("#top").fadeOut(100),$(window).scrollTop()>dh-($("footer").height()-60)-wh?$("#top").addClass("at-footer"):$("#top").removeClass("at-footer")}),$("#top").on("click",function(){return $("html, body").delay(0).animate({scrollTop:0},1e3),!1})}function infoWindow(){var o=$(".info-window");$(document).ready(function(){(o.hasClass("loading")||o.hasClass("maintain"))&&($("body").css("overflow-y","hidden"),setTimeout(function(){o.addClass("done"),$("body").css("overflow-y","auto")},2e3))})}function toggleDropdowntext(){$(".dropdown-set .dropdown-menu").find("> *").each(function(o,t){$(t).on("click",function(){var o=$(t).text();$(t).addClass("active").siblings().removeClass("active"),$(".dropdown-set .btn").text(o)})})}function fitHeader(){var o=0,t=$(window),n=$("header");t.on("scroll",function(e){var i=t.scrollTop();if(o<1&&n.removeClass("is-hidden"),n.toggleClass("is-hidden",i>o),o=i,n.is(".is-hidden"))return setTimeout(function(o){$("#m-check").prop("checked",!1)},1e3),!1})}function autoFocus(){$("#search-ctrl").on("change",function(){1==$(this).prop("checked")&&$("#search").focus()})}function loadNavFooter(){$(document).ready(function(){$("header nav").load("nav-footer.html #menu > *",function(){autoFocus(),$(".menu a").each(function(){var o=$("title").text().split("|");$(this).text()===$.trim(o[0])&&$(this).addClass("active")}),$(window).width()<1024&&$("#m-ctrl").on("change",function(){!0!==$(this).prop("checked")&&$('[name="sub-ctrl"]').each(function(){setTimeout(function(){$('[name="sub-ctrl"]').prop("checked",!1)},500)})})}).end(),$("footer").load("nav-footer.html #footer > *")})}function loadeds(){$(".jump-dots").before("<p>。。&ensp;載入中&ensp;。。</p>"),$(window).on("load",function(){setTimeout(function(){$(".loading-window").addClass("done")},800)})}function cssDrop(){$(function(){if($(window).width()<1024&&$(window).resize()){var o=$(".css-dropdown a.active").text();$(".css-dropdown label").text(""+o)}})}function tlTop(){$(function(){$(window).width()>1024&&$('[data-bs-toggle="tooltip"]').tooltip()})}goTop(),0!==$(".dropdown-set").length&&toggleDropdowntext(),$(window).width()>=1024&&fitHeader(),loadeds(),0!==$(".css-dropdown").length&&cssDrop(),tlTop();